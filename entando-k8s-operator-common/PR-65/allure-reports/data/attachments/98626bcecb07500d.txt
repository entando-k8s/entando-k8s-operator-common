---
mixins:
- "Deployable"
- "SsoAwareDeployable"
- "Secretive"
defaultServiceAccountName: "default"
ssoConnectionInfo:
  baseUrlToUse: "http://default-keycloak-sso-in-namespace-service.my-namespace.svc.cluster.local:8080/auth"
  defaultRealm: "my-realm"
  mixins:
  - "SsoConnectionInfo"
  password: "password123"
  externalBaseUrl: "https://mykeycloak.com/auth"
  internalBaseUrl: "http://default-keycloak-sso-in-namespace-service.my-namespace.svc.cluster.local:8080/auth"
  adminSecret:
    apiVersion: "v1"
    kind: "Secret"
    metadata:
      name: "default-keycloak-sso-in-namespace-admin-secret"
      namespace: "my-namespace"
    stringData:
      username: "jon"
      password: "password123"
  username: "jon"
replicas: 1
customResource:
  apiVersion: "test.org/v1"
  kind: "TestResource"
  metadata:
    name: "my-app"
    namespace: "my-namespace"
  isCustomResource: true
containers:
- ssoVariables:
  - name: "SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_OIDC_ISSUER_URI"
    value: "https://mykeycloak.com/auth/realms/my-realm"
  - name: "SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_OIDC_CLIENT_SECRET"
    valueFrom:
      secretKeyRef:
        key: "clientSecret"
        name: "my-client-secret"
        optional: false
  - name: "SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_OIDC_CLIENT_ID"
    valueFrom:
      secretKeyRef:
        key: "clientId"
        name: "my-client-secret"
        optional: false
  mixins:
  - "DeployableContainer"
  - "SsoAwareContainer"
  memoryLimitMebibytes: 256
  kubernetesPermissions: []
  environmentVariables: []
  dockerImageInfo:
    organization: "test"
    repository: "my-spring-boot-image"
    tag: "6.3.2"
  namesOfSecretsToMount: []
  nameQualifier: "server"
  additionalPorts: []
  primaryPort: 8081
  secretsToMount: []
  cpuLimitMillicores: 500
secrets: []
serviceAccountToUse: "default"
ssoClientConfig:
  realm: "my-realm"
  clientId: "my-client"
  clientName: "my-client"
  roles: []
  permissions: []
  redirectUri: []
  webOrigins: []
